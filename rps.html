<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Rock Paper Scissors</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background-color: rgb(25, 25, 25);
                color: white;
            }
            .game-buttons {
                display: flex;
                justify-content: left;
                margin-top: 20px;
            }
            button{
                width: 120px;
                height: 120px;
                margin-top: 10px;
                margin-right: 15px;
                cursor: pointer;
                background-color: rgb(25, 25, 25);
                border: solid 3px white;
                border-radius: 60px;
                padding: 20px 20px;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
            }
            .game-buttons img{
                width: 50px;
                height: 50px;
            }

            .game-buttons img:hover {
                transform: scale(1.5);
                transition: transform 0.2s;
            }

            .reset {
                height: 2px;
                background-color: white ;
                color: black;
                border: none;
                border-radius: 2px;
                cursor: pointer;
                font-size: 14px;
                margin-top: 20px;
            }

            .player-move, .computer-move {
                width: 50px;
                height: 50px;
            }
        </style>
      
    </head>
    <body>
        <h1 style="font-size: 30px; font-weight: bold; margin-top: 30px">Rock Paper Scissors</h1>
        <div class="game-buttons">
            <button class="rock"><img src="rock-emoji.png"> </button> 
            <button class="paper"><img src="paper-emoji.png"></button>  
            <button class="scissors"><img src="scissors-emoji.png"></button> 
        </div>
        <div class="result"></div>
        <div class="Played-move"></div>
        <div class="score"></div>
        <button class="reset">Reset Score</button>

        <script>
            const score = {
                wins : 0,
                losses : 0,
                ties : 0
            }
            const savedScore = localStorage.getItem('rpsScore');
            if (savedScore) {
                Object.assign(score, JSON.parse(savedScore));
            }  

            document.querySelector('.reset').addEventListener('click', function() {
                score.wins = 0;
                score.losses = 0;
                score.ties = 0;
                document.querySelector('.score').innerHTML = `Wins: ${score.wins} Losses: ${score.losses} Ties: ${score.ties}`;
            });

            document.querySelector('.score').innerHTML = `Wins: ${score.wins} Losses: ${score.losses} Ties: ${score.ties}`;
            document.querySelector('.score')
                .style.marginTop = '50px';
            
            const choices = ['rock', 'paper', 'scissors'];
            function computerPlay() {
                return choices[Math.floor(Math.random() * choices.length)];
            }

            function playRound(playerSelection, computerSelection) {
                if (playerSelection === computerSelection) {
                    score.ties++;
                    return "Tie.";
                } else if (
                    (playerSelection === 'rock' && computerSelection === 'scissors') ||
                    (playerSelection === 'paper' && computerSelection === 'rock') ||
                    (playerSelection === 'scissors' && computerSelection === 'paper')
                ) {
                    score.wins++;
                    return "You win.";
                } else {
                    score.losses++;
                    return "You lose.";
                }
            }

            document.querySelector('.rock').addEventListener('click', function() {
                const playerSelection = 'rock';
                const computerSelection = computerPlay();
                const result = playRound(playerSelection, computerSelection);
                document.querySelector('.result').innerHTML = result;
                document.querySelector('.score').innerHTML = `Wins: ${score.wins} Losses: ${score.losses} Ties: ${score.ties}`;
                document.querySelector('.Played-move').innerHTML = `<p>You <img class="player-move" src="rock-emoji.png"> <img class="computer-move" src="${computerSelection}-emoji.png"> Computer</p>`;
            });
            document.querySelector('.paper').addEventListener('click', function() {
                const playerSelection = 'paper';
                const computerSelection = computerPlay();
                const result = playRound(playerSelection, computerSelection);
                document.querySelector('.result').innerHTML = result;
                document.querySelector('.score').innerHTML = `Wins: ${score.wins} Losses: ${score.losses} Ties: ${score.ties}`;
                document.querySelector('.Played-move').innerHTML = `<p>You <img class="player-move" src="paper-emoji.png"> <img class="computer-move" src="${computerSelection}-emoji.png"> Computer</p>`;
            });
            document.querySelector('.scissors').addEventListener('click', function() {
                const playerSelection = 'scissors';
                const computerSelection = computerPlay();
                const result = playRound(playerSelection, computerSelection);
                document.querySelector('.result').innerHTML = result;
                document.querySelector('.score').innerHTML = `Wins: ${score.wins} Losses: ${score.losses} Ties: ${score.ties}`;
                document.querySelector('.Played-move').innerHTML = `<p>You <img class="player-move" src="scissors-emoji.png"> <img class="computer-move" src="${computerSelection}-emoji.png"> Computer</p>`;
            });

            document.querySelector('.result').style.marginTop = '50px';
            document.querySelector('.result').style.fontSize = '25px';
            document.querySelector('.result').style.fontWeight = 'bold';

            
            window.addEventListener('beforeunload', function() {
                localStorage.setItem('rpsScore', JSON.stringify(score));
            });
            
        </script>
</html>